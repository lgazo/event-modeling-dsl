---
kind: "[[PromptApplied]]"
continues: "[[ai/events/20251109 150900]]
---

# Prompt no.1

Implement a command "Event Model: Save as SVG" in the `vscode-extension` project. It should take the active Event Model file and export it as SVG. Use `layout` package for it. Reuse the principles or implementation introduced in [livePreview.ts](packages/vscode-extension/src/extension/webview/livePreview.ts). Don't use `layout-headless`, or `jsdom` library as it requires Node native modules.

# Prompt no.2

fix a few bugs related to this implementation:

```
src/extension/saveSvgCommand.ts:139:16 - error TS2339: Property 'catch' does not exist on type 'Thenable<void>'.

139             }).catch(error => {
                   ~~~~~

src/extension/saveSvgCommand.ts:139:22 - error TS7006: Parameter 'error' implicitly has an 'any' type.

139             }).catch(error => {
                         ~~~~~

src/extension/webview/saveAsSvg.ts:95:5 - error TS18047: 'container' is possibly 'null'.

95     container.replaceChildren();
       ~~~~~~~~~

src/extension/webview/saveAsSvg.ts:96:40 - error TS2345: Argument of type 'HTMLDivElement | null' is not assignable to parameter of type 'HTMLElement'.
  Type 'null' is not assignable to type 'HTMLElement'.

96     const svg = renderer.render(model, container);
                                          ~~~~~~~~~

src/extension/webview/saveAsSvg.ts:98:5 - error TS18047: 'container' is possibly 'null'.

98     container.replaceChildren();
       ~~~~~~~~~


Found 5 errors.
```
